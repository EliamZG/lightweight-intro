<li class="fixed top-0 right-0 flex items-center justify-center h-16 w-16 mx-auto mt-auto group grayscale hover:grayscale-0 transition-all duration-600">
  <button id="themeToggle" class="flex flex-col items-center rounded-3xl bg-accent">
    <svg xmlns="http://www.w3.org/2000/svg" style="" width="40" height="40" viewBox="0 0 20 20" class="justify-center">
      <path id="theme-path1" class="fill-primary transition-all duration-200"></path>
      <path id="theme-path2" class="fill-secondary transition-all duration-200"></path>
    </svg>
  </button>
  <span class="absolute w-auto p-2 m-2 min-w-max top-0 rounded-md shadow-md text-white bg-gray-500 text-xs font-bold scale-0 transition-all duration-900 origin-left group-hover:scale-100 group-hover:top-14">
    TEMA
  </span>
</li>

<script is:inline>
let path1 = document.getElementById('theme-path1')
let path2 = document.getElementById('theme-path2')
const moon1 = "m9.89,5c-2.89,0-5.24,2.35-5.24,5.25s2.34,5.25,5.24,5.25c1.42,0,2.71-.57,3.65-1.49.12-.11.15-.29.07-.44s-.24-.23-.4-.2c-.23.04-.46.06-.71.06-2.27,0-4.11-1.85-4.11-4.12,0-1.54.84-2.89,2.09-3.59.14-.08.22-.25.18-.41s-.17-.28-.34-.29c-.15-.01-.3-.02-.45-.02h0Z"
const moon2 = "m13.44,6.36l-.83-.1-.55.62-.16-.82-.76-.33.73-.4.08-.83.61.57.81-.18-.35.75.42.72Zm.79,2.79l.14-1.46-1.25.78-1.35-.59.35,1.43-.98,1.1,1.47.11.75,1.27.55-1.36,1.44-.32-1.13-.95Z"
const sun1 = "m7.75,10c0-1.24,1.01-2.25,2.25-2.25s2.25,1.01,2.25,2.25-1.01,2.25-2.25,2.25-2.25-1.01-2.25-2.25Z"
const sun2 = "m14.47,10l1.46-2.12c.07-.11.09-.24.04-.36-.05-.12-.15-.2-.28-.22l-2.53-.46-.47-2.53c-.02-.12-.11-.23-.22-.28-.12-.05-.25-.04-.36.04l-2.12,1.46-2.12-1.46c-.11-.07-.24-.09-.36-.04-.12.05-.2.15-.22.28l-.47,2.53-2.53.47c-.12.02-.23.11-.28.22-.05.12-.04.25.04.36l1.46,2.12-1.46,2.12c-.07.11-.09.24-.04.36.05.12.15.2.28.23l2.53.47.47,2.53c.02.12.11.23.22.28.12.05.25.04.36-.04l2.12-1.46,2.12,1.46c.11.07.24.09.36.04.12-.05.2-.15.22-.28l.47-2.53,2.53-.47c.12-.02.23-.11.28-.23.05-.12.04-.25-.04-.36l-1.46-2.12Zm-4.47,3c-1.66,0-3-1.34-3-3s1.34-3,3-3,3,1.34,3,3-1.34,3-3,3Z"
  
const theme = (() => {
  if (typeof localStorage !== 'undefined' && localStorage.getItem('theme')) {
    return localStorage.getItem('theme');
  }
  if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
    return 'dark';
  }
  return 'light';
})();

if (theme === 'light') {
  document.documentElement.classList.remove('dark');
  path1.setAttribute('d', moon1);
  path2.setAttribute('d', moon2);
} else {
  document.documentElement.classList.add('dark');
  path1.setAttribute('d', sun1);
  path2.setAttribute('d', sun2);
}

window.localStorage.setItem('theme', theme);

const handleToggleClick = () => {
  const element = document.documentElement;
  element.classList.toggle("dark");

  const isDark = element.classList.contains("dark");
  localStorage.setItem("theme", isDark ? "dark" : "light");
  path1.setAttribute('d', isDark ? sun1 : moon1);
  path2.setAttribute('d', isDark ? sun2 : moon2);

}

document.getElementById("themeToggle").addEventListener("click", handleToggleClick);
</script>